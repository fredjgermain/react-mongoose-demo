[{"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\index.js":"1","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\App.js":"2","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\reportWebVitals.js":"3","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\components\\adminsection\\adminsection.tsx":"4","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\components\\adminsection\\admintable.tsx":"5","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\components\\custompackages.tsx":"6","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\components\\businesslogic\\columnrules.tsx":"7","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputcommon.tsx":"8","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\customhooks\\customhooks.tsx":"9","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\tablecommon.tsx":"10","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\mongoosedao\\dao.tsx":"11","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\mongoosedao\\mongooseparser.tsx":"12","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputarray.tsx":"13","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\customhooks\\useKey.tsx":"14","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\customhooks\\useLoad.tsx":"15","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\customhooks\\useOutsideClick.tsx":"16","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\customhooks\\usePage.tsx":"17","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\mongoosedao\\crudaxios.tsx":"18","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\mongoosedao\\collection.tsx":"19","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\mongoosedao\\field.tsx":"20","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputdata\\inputdata.tsx":"21","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputdata\\inputstring.tsx":"22","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputdata\\inputnumber.tsx":"23","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputdata\\inputbool.tsx":"24","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputselect\\inputselect.tsx":"25","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputhooks\\inputhook.tsx":"26","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\components\\inputtable.tsx":"27","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\components\\inputtableheader.tsx":"28","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\components\\inputcells.tsx":"29","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\components\\inputrows.tsx":"30","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\components\\inputrowbtn.tsx":"31","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\colsetting\\columnsetting.tsx":"32","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\hook\\useCrud.tsx":"33","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\hook\\useColumnSetting.tsx":"34","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\hook\\usetable.tsx":"35"},{"size":500,"mtime":499162500000,"results":"36","hashOfConfig":"37"},{"size":182,"mtime":1608168065319,"results":"38","hashOfConfig":"37"},{"size":362,"mtime":499162500000,"results":"39","hashOfConfig":"37"},{"size":1961,"mtime":1608160887882,"results":"40","hashOfConfig":"37"},{"size":3102,"mtime":1607221552785,"results":"41","hashOfConfig":"37"},{"size":1233,"mtime":1607200177819,"results":"42","hashOfConfig":"37"},{"size":5386,"mtime":1607200205645,"results":"43","hashOfConfig":"37"},{"size":2598,"mtime":1607200113161,"results":"44","hashOfConfig":"37"},{"size":284,"mtime":1606778522381,"results":"45","hashOfConfig":"37"},{"size":900,"mtime":1607200345683,"results":"46","hashOfConfig":"37"},{"size":3793,"mtime":1607481906348,"results":"47","hashOfConfig":"37"},{"size":2814,"mtime":1607481907742,"results":"48","hashOfConfig":"37"},{"size":2222,"mtime":1606862265356,"results":"49","hashOfConfig":"37"},{"size":734,"mtime":1605383912437,"results":"50","hashOfConfig":"37"},{"size":895,"mtime":1605228637782,"results":"51","hashOfConfig":"37"},{"size":568,"mtime":1605310205354,"results":"52","hashOfConfig":"37"},{"size":1677,"mtime":1606787510225,"results":"53","hashOfConfig":"37"},{"size":1779,"mtime":1608004247268,"results":"54","hashOfConfig":"37"},{"size":1442,"mtime":1608004247266,"results":"55","hashOfConfig":"37"},{"size":2138,"mtime":1606779841300,"results":"56","hashOfConfig":"37"},{"size":558,"mtime":1605898376965,"results":"57","hashOfConfig":"37"},{"size":510,"mtime":1606764681711,"results":"58","hashOfConfig":"37"},{"size":514,"mtime":1606764627924,"results":"59","hashOfConfig":"37"},{"size":443,"mtime":1605914563542,"results":"60","hashOfConfig":"37"},{"size":3553,"mtime":1607200266979,"results":"61","hashOfConfig":"37"},{"size":4306,"mtime":1606764828794,"results":"62","hashOfConfig":"37"},{"size":1719,"mtime":1607132578185,"results":"63","hashOfConfig":"37"},{"size":1255,"mtime":1607120433005,"results":"64","hashOfConfig":"37"},{"size":1791,"mtime":1607132578185,"results":"65","hashOfConfig":"37"},{"size":1336,"mtime":1608004247265,"results":"66","hashOfConfig":"37"},{"size":3761,"mtime":1607122225076,"results":"67","hashOfConfig":"37"},{"size":1239,"mtime":1607200305004,"results":"68","hashOfConfig":"37"},{"size":2174,"mtime":1607200705973,"results":"69","hashOfConfig":"37"},{"size":1974,"mtime":1607132810321,"results":"70","hashOfConfig":"37"},{"size":2060,"mtime":1607221985628,"results":"71","hashOfConfig":"37"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},"ke513i",{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"82"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"88","usedDeprecatedRules":"82"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"82"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"82"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"82"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"82"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"82"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"82"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"82"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"82"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141","usedDeprecatedRules":"82"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144","usedDeprecatedRules":"82"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"147","usedDeprecatedRules":"82"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"154","usedDeprecatedRules":"82"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"157","usedDeprecatedRules":"82"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"160","usedDeprecatedRules":"82"},"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\index.js",[],["161","162"],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\App.js",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\reportWebVitals.js",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\components\\adminsection\\adminsection.tsx",["163"],"import React, {useState, useMemo} from 'react'; \r\nimport {Dao, LoadCollections, useLoad, InputSelect} from '../custompackages'; \r\nimport AdminTable from './admintable'; \r\n//import \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"; \r\n\r\n\r\ninterface IAdminContext { \r\n  dao: Dao; \r\n  activeCollection: ICollection; \r\n} \r\nexport const AdminContext = React.createContext({} as IAdminContext); \r\n// ADMIN SECTION =================================\r\nexport default function AdminSection() { \r\n  const dao = useMemo(() => new Dao(), []); \r\n  const [selected, setSelected] = useState<string>(''); \r\n  \r\n  const {status, Reload} = useLoad(async () => { \r\n    const loadedCollection = await LoadCollections(['responses', 'questions', 'instructions', 'forms']); \r\n    dao.iCollections = loadedCollection; \r\n  }); \r\n  // RENDER ------------------------------------- \r\n  if(!status.success) \r\n    return <LoadingBtn/>; \r\n\r\n  // options \r\n  const options:IOption[] = dao.iCollections.map( c => { \r\n    return {value: c.accessor, label: c.label} \r\n  }); \r\n\r\n  // Context \r\n  const adminContext = {dao:dao, activeCollection:dao.GetICollection(selected)} as IAdminContext; \r\n\r\n  // render \r\n  const adminTable = selected ? <AdminTable /> : <p>Please choose a collection from the selector above.</p>; \r\n  return <AdminContext.Provider value={adminContext}> \r\n    <p>this is the correct version ... </p>\r\n    <h2>Admin Section</h2> \r\n    <p>Choose a collection to create/read/update/delete items from it.</p> \r\n    <InputSelect value={selected} onSendValue={setSelected} options={options} /> \r\n    {adminTable} \r\n  </AdminContext.Provider> \r\n} \r\n\r\n\r\nfunction LoadingBtn() { \r\n  return <div>\r\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\">\r\n      </link>\r\n      <button className=\"buttonload\">\r\n      <i className=\"fa fa-spinner fa-spin\"></i>Loading\r\n    </button>\r\n  </div>\r\n}",["164","165"],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\components\\adminsection\\admintable.tsx",["166","167"],"import React, {useContext} from 'react'; \r\nimport {AdminContext} from './adminsection'; \r\n\r\nimport './table.css'; \r\n\r\n// INPUT TABLE \r\nimport {InputTable, InputHeader, InputHeaderRow, \r\n  InputRows, InputRow, InputCells, InputCell, \r\n  UpdateDeleteBtn, CreateBtn} from '../custompackages'; \r\n  \r\n// Page \r\nimport {usePage, IPageHook} from '../custompackages'; \r\n\r\n// Crud \r\nimport {useCrud} from '../custompackages'; \r\n\r\n// Column setting rules \r\nimport {BuildColumnSetting, ColumnSetter, IColumnSetting} from '../custompackages'; \r\nimport {icolrules} from '../businesslogic/columnrules'; \r\n\r\n\r\n// ADMIN TABLE ==================================\r\nexport default function AdminTable() { \r\n  const {dao, activeCollection} = useContext(AdminContext); \r\n\r\n  // CRUD functionality \r\n  const {entries, response, Create, Update, Delete} = useCrud(dao, activeCollection); \r\n  const createLabel = {action:'Create', confirm:'Confirm create', cancel:'Cancel create'}; \r\n  const onCreate = Create; \r\n  const updateLabel = {action:'Update', confirm:'Confirm update', cancel:'Cancel update'}; \r\n  const onUpdate = Update; \r\n  const deleteLabel = {action:'Delete', confirm:'Confirm delete', cancel:'Cancel delete'}; \r\n  const onDelete = Delete; \r\n\r\n  // column settings\r\n  const iColumnSetting = BuildColumnSetting(dao, activeCollection.ifields, icolrules); \r\n  const colModifier = (col:IColumnSetting) => { \r\n    if(col.ifield.accessor[0] === '_') \r\n      col.show = false; \r\n  } \r\n  ColumnSetter(iColumnSetting, colModifier); \r\n\r\n  // paging\r\n  const {pageIndex, setPageIndex, from, to, pageIndexes} = usePage(entries, 5); \r\n  const page = Array.from({length: to-from}, (v, k) => k+from); \r\n\r\n\r\n  // RENDER -------------------------------------\r\n  return <div> \r\n    <h4>Input table:</h4> \r\n    <Response {...response} /> \r\n    <InputTable entries={entries} colsetting={iColumnSetting}> \r\n      <thead> \r\n        <InputHeaderRow> \r\n          <InputHeader/><th>BTN</th> \r\n        </InputHeaderRow> \r\n      </thead> \r\n      <tbody> \r\n        <InputRows rows={page}> \r\n          <InputCells/> \r\n          <UpdateDeleteBtn {...{updateLabel, deleteLabel, onUpdate, onDelete}}/> \r\n        </InputRows> \r\n      </tbody> \r\n      <tfoot> \r\n        <InputRow row={-1}> \r\n          <InputCells/> \r\n          <CreateBtn {...{createLabel, onCreate}}/> \r\n        </InputRow> \r\n      </tfoot> \r\n    </InputTable> \r\n    <Paging {...{pageIndex, setPageIndex, from, to, pageIndexes}}/> \r\n  </div> \r\n}\r\n\r\nfunction Response({actionType,success,data,err}:IResponse) { \r\n  const {dao, activeCollection} = useContext(AdminContext); \r\n  if(success) \r\n    return <div className='feedback_green'>{activeCollection.label} successful {actionType}</div> \r\n  return <div className='feedback_red'>{err?.map( e => \r\n      {return <div>{e}</div>} \r\n    )}</div>; \r\n}\r\n\r\nfunction Paging({from, to, pageIndex, setPageIndex, pageIndexes}:IPageHook) { \r\n  return <div>\r\n    {pageIndexes.map( (p, i) => { \r\n      return <button key={i} onClick={() => setPageIndex(i)} disabled={pageIndex===i} >\r\n          {i+1}\r\n        </button> \r\n    })} \r\n  </div>\r\n}","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\components\\custompackages.tsx",["168"],"// Input\r\nimport {InputArray, InputData, InputNumber, InputString, \r\n  InputSelect, InputBool} from '../input/inputcommon'; \r\n\r\n// Table\r\nimport {IColumnSetting, IColumnSettingRule, IDao, ITableHook, BuildColumnSetting, \r\n  InputTable, InputHeader, InputHeaderRow, InputRows, InputRow, InputCells, InputCell, \r\n  CreateBtn, UpdateDeleteBtn, useCrud, ICrudHook, useColumnSetting, ColumnSetter} from '../inputtable/tablecommon'; \r\n\r\n// Hooks\r\nimport {useLoad, usePage, IPageHook} from '../customhooks/customhooks'; \r\n\r\n// Mongoose Dao\r\nimport Dao, {Collection, Field} from '../mongoosedao/dao'; \r\nimport {LoadCollections} from '../mongoosedao/mongooseparser'; \r\n\r\n\r\n// Input components\r\nexport {InputArray, InputData, InputNumber, InputString, InputSelect, InputBool}; \r\n\r\n// Table components\r\nexport {InputTable, InputHeader, InputHeaderRow, \r\n  InputRows, InputRow, InputCells, InputCell, \r\n  CreateBtn, UpdateDeleteBtn}; \r\n\r\n// Build Column setting function\r\nexport {BuildColumnSetting}\r\n\r\n// Types\r\nexport type {IColumnSetting, IColumnSettingRule, IDao, ITableHook, IPageHook}; \r\n\r\n// Hooks\r\nexport {useLoad, usePage, useCrud, useColumnSetting, ColumnSetter}; \r\n\r\n// Dao and load\r\nexport {Dao, Collection, Field, LoadCollections}; ","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\components\\businesslogic\\columnrules.tsx",["169"],"import React from 'react'; \r\nimport {IColumnSettingRule, IDao, ITableHook} from '../custompackages'; \r\nimport {InputArray, InputData, InputSelect} from '../custompackages'; \r\nimport {Field} from '../custompackages'; \r\n\r\n// IField Predicate ===============================\r\nconst OnePrimitive = (ifield:IField) => !new Field(ifield).IsArray() && new Field(ifield).IsPrimitive(); \r\nconst OneEnum = (ifield:IField) => !new Field(ifield).IsArray() && new Field(ifield).IsEnum(); \r\nconst OneForeign = (ifield:IField) => !new Field(ifield).IsArray() && new Field(ifield).IsObjectID(); \r\nconst ManyPrimitive = (ifield:IField) => new Field(ifield).IsArray() && new Field(ifield).IsPrimitive(); \r\nconst ManyEnum = (ifield:IField) => new Field(ifield).IsArray() && new Field(ifield).IsEnum(); \r\nconst ManyForeign = (ifield:IField) => new Field(ifield).IsArray() && new Field(ifield).IsObjectID(); \r\n\r\n// icolumn Predicate ======================================\r\nconst editable = (handle?:string) => { \r\n  if(!handle) \r\n    return false; \r\n  return handle === 'update' || handle === 'create'; \r\n}; \r\n\r\n\r\n// BuildRenderFunc =====================================\r\nconst ReadMany = (ifield:IField, value:any) => { \r\n  const N = Array.isArray(value) ? value: []; \r\n  return <span>{new Field(ifield).GetElementType()} x {N.length}</span> \r\n}\r\n\r\nconst Display = (ifield:IField, value:any) => { \r\n  if(ifield.type === 'boolean') \r\n    return <span>{JSON.stringify(value)}</span>; \r\n  return <span>{value}</span>; \r\n}\r\n\r\n// PRIMITIVE --------------------------------------\r\nconst ReadOnePrimitive = (ifield:IField, dao:IDao) => { \r\n  return (value:any, onSendValue:any) => { \r\n    return Display(ifield, value); \r\n}}; \r\n\r\nconst EditOnePrimitive = (ifield:IField, dao:IDao) => {\r\n  return (value:any, onSendValue:any) => { \r\n    return <InputData {...{value, onSendValue}} /> \r\n}}; \r\n\r\nconst ReadManyPrimitive = (ifield:IField, dao:IDao) => {\r\n  return (value:any, onSendValue:any) => { \r\n    return ReadMany(ifield, value); \r\n}}; \r\n\r\nconst EditManyPrimitive = (ifield:IField, dao:IDao) => {\r\n  return (value:any, setValue:any):any => { \r\n    return <InputArray type={ifield.type} value={value} onSendValue={setValue} defaultValue={ifield.defaultValue} /> \r\n}}; \r\n\r\n\r\n// ENUM -----------------------------------------\r\nconst ReadOneEnum = (ifield:IField, dao:IDao) => { \r\n  return (value:any, onSendValue:any) => { \r\n    return <span>{value}</span>; \r\n}}; \r\n\r\nconst EditOneEnum = (ifield:IField, dao:IDao) => { \r\n  const enums:any[] = ifield.options['enum'] ?? []; \r\n  const options = enums.map( o => {\r\n    return {value:o, label:o} as IOption} \r\n  ); \r\n  return (value:any, onSendValue:any) => { \r\n    return <InputSelect {...{value, onSendValue, options}} /> \r\n}}; \r\n\r\nconst ReadManyEnum = (ifield:IField, dao:IDao) => {\r\n  return (value:any, onSendValue:any) => { \r\n    return ReadMany(ifield, value); \r\n}}; \r\n\r\nconst EditManyEnum = (ifield:IField, dao:IDao) => { \r\n  const enums:any[] = ifield.options['enum'] ?? []; \r\n  const options = enums.map( o => {\r\n    return {value:o, label:o} as IOption} \r\n  ); \r\n  return (value:any, onSendValue:any) => { \r\n    return <InputSelect {...{value, onSendValue, options, isMulti:true}} /> \r\n}}; \r\n\r\n// FOREIGN --------------------------------------\r\nconst ReadOneForeign = (ifield:IField, dao:IDao) => { \r\n  return (value:any, onSendValue:any):any => { \r\n    const foreignValue:any = dao.GetForeignValue(ifield, value); \r\n    return <span>{JSON.stringify(foreignValue)}</span>; \r\n  } \r\n} \r\n\r\nconst EditOneForeign = (ifield:IField, dao:IDao) => { \r\n  return (value:any, onSendValue:any) => { \r\n    const options:IOption[] = dao.GetForeignOptions(ifield); \r\n    return <InputSelect {...{value, onSendValue, options}} /> \r\n}}; \r\n\r\nconst ReadManyForeign = (ifield:IField, dao:IDao) => { \r\n  return (value:any, onSendValue:any) => { \r\n    return ReadMany(ifield, value); \r\n}}; \r\n\r\nconst EditManyForeign = (ifield:IField, dao:IDao) => { \r\n  return (value:any, onSendValue:any) => { \r\n    const options:IOption[] = dao.GetForeignOptions(ifield); \r\n    return <InputSelect {...{value, onSendValue, options, isMulti:true}} /> \r\n}}; \r\n\r\n\r\n// Column Setting Rules -------------------------\r\nconst defOps = {order:0, show:true, sort:0}\r\nexport const icolrules:IColumnSettingRule[] = [ \r\n  \r\n  // Primitive\r\n  {...defOps, ifieldPredicate:OnePrimitive, buildRenderer: ReadOnePrimitive}, \r\n  {...defOps, ifieldPredicate:OnePrimitive, buildRenderer: EditOnePrimitive, predicate:editable}, \r\n  {...defOps, ifieldPredicate:ManyPrimitive, buildRenderer: ReadManyPrimitive}, \r\n  {...defOps, ifieldPredicate:ManyPrimitive, buildRenderer: EditManyPrimitive, predicate:editable}, \r\n\r\n  // Enum\r\n  {...defOps, ifieldPredicate:OneEnum, buildRenderer: ReadOneEnum}, \r\n  {...defOps, ifieldPredicate:OneEnum, buildRenderer: EditOneEnum, predicate:editable}, \r\n  {...defOps, ifieldPredicate:ManyEnum, buildRenderer: ReadManyEnum}, \r\n  {...defOps, ifieldPredicate:ManyEnum, buildRenderer: EditManyEnum, predicate:editable}, \r\n\r\n  // Foreign\r\n  {...defOps, ifieldPredicate:OneForeign, buildRenderer: ReadOneForeign}, \r\n  {...defOps, ifieldPredicate:OneForeign, buildRenderer: EditOneForeign, predicate:editable}, \r\n  {...defOps, ifieldPredicate:ManyForeign, buildRenderer: ReadManyForeign}, \r\n  {...defOps, ifieldPredicate:ManyForeign, buildRenderer: EditManyForeign, predicate:editable}, \r\n] ","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputcommon.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\customhooks\\customhooks.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\tablecommon.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\mongoosedao\\dao.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\mongoosedao\\mongooseparser.tsx",["170"],"import Collection from './collection'; \r\nimport { crud } from './crudaxios'; \r\n\r\n\r\nexport interface IMongooseCollection { \r\n  accessor:string; \r\n  label:string; \r\n} \r\n\r\nexport interface IMongooseField { \r\n  accessor:string; \r\n  instance:string; \r\n  options: { \r\n    ref?: string; \r\n    label?: string; \r\n    sortType?: string; \r\n    defaultValue?: any; \r\n    format?: string; \r\n    [key:string]:any; \r\n  }; \r\n  $embeddedSchemaType?:{ \r\n    instance:string; \r\n  }; \r\n  [key:string]:any; \r\n} \r\n\r\nexport const collections:Collection[] = new Array<Collection>(); \r\n\r\n// const collections:IMongooseCollection[] = (await crud.Read('collections')).data; \r\nexport async function LoadCollections(collectionsToFind:string[]):Promise<ICollection[]> { \r\n  const mongooseCollections = (await crud.Read('collections')).data as IMongooseCollection[]; \r\n  const foundCollections = mongooseCollections.filter( c => collectionsToFind.includes(c.accessor) ); \r\n  const loadedCollections = new Array<ICollection>(); \r\n  for(let i=0; i<foundCollections.length; i++) { \r\n    const collection = await LoadCollection(foundCollections[i]); \r\n    loadedCollections.push(collection); \r\n  } \r\n  return loadedCollections; \r\n} \r\n\r\nasync function LoadCollection(collection:IMongooseCollection):Promise<ICollection> { \r\n  const icollection:ICollection = {} as ICollection; \r\n  icollection.accessor = collection.accessor; \r\n  icollection.label = collection.label; \r\n  \r\n  const fields = (await crud.Models(collection.accessor)).data.paths; \r\n  const mongooseFields = Object.keys(fields).map( f => { \r\n    return {accessor:f, ...fields[f] } as IMongooseField; \r\n  }); \r\n  icollection.ifields = ParseFields(mongooseFields); \r\n  icollection.entries = (await crud.Read(collection.accessor)).data; \r\n  return icollection; \r\n} \r\n\r\nfunction GetDefaultValue(type:string, options:any):any { \r\n  if(options['defaultValue']) \r\n    return options['defaultValue']; \r\n  if(options['default']) \r\n    return options['default']; \r\n  if(type === 'Array') \r\n    return []; \r\n  if(type === 'Boolean') \r\n    return false; \r\n  if(type === 'Number') \r\n    return 0; \r\n  return ''; \r\n} \r\n\r\n//async function ParseFields() \r\nfunction ParseFields(fields:IMongooseField[]):IField[] { \r\n  return fields.map( f => { \r\n    const {accessor, instance, $embeddedSchemaType, options} = f; \r\n    const ifield:IField = {} as IField; \r\n    \r\n    ifield.accessor = accessor; \r\n    ifield.label = options.label ?? ''; \r\n    ifield.options = options; \r\n    ifield.type = instance; \r\n    ifield.subtype = $embeddedSchemaType?.instance ?? ''; \r\n    ifield.modeltype = options.ref ?? ''; \r\n    ifield.format = options.format ?? \"${value}\"; \r\n    ifield.sort = options.sortType ?? ''; \r\n    ifield.defaultValue = GetDefaultValue(ifield.type, ifield.options); \r\n    return ifield; \r\n  }); \r\n} ","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputarray.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\customhooks\\useKey.tsx",["171"],"import {useEffect, useRef} from 'react';\r\n\r\nexport enum KeyEventType { \r\n  KEYDOWN = 'keydown', \r\n  KEYPRESS = 'keypress', \r\n  KEYUP = 'keyup', \r\n  MOUSEDOWN = 'mousedown', \r\n  MOUSEPRESS = 'mousepress', \r\n  MOUSEUP = 'mouseup',\r\n}\r\n\r\nexport function useKey<T extends HTMLElement>( \r\n  keyEvent:string, \r\n  keyTest:(event:any) => boolean, \r\n  onKey:(event:any) => void):[React.MutableRefObject<any>] { \r\n  \r\n  function OnKey(event:any) { \r\n    if(keyTest(event)) \r\n      onKey(event); \r\n  } \r\n\r\n  const htmlelement = useRef<T>(null); \r\n  useEffect(() => { \r\n    document.addEventListener(keyEvent, OnKey); \r\n    return () => { \r\n      document.removeEventListener(keyEvent, OnKey); \r\n    }; \r\n  }, []); \r\n\r\n  return [htmlelement]; \r\n}","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\customhooks\\useLoad.tsx",["172","173","174"],"import {useState, useMemo, useCallback, useEffect} from 'react'; \r\n\r\ninterface ILoad { \r\n  success: boolean; \r\n  err?: any; \r\n} \r\n\r\n// CUSTOM HOOK: useLoad  ========================\r\n/*\r\nTakes in a async Loading function \r\nreturns \r\n  'status'\r\n    .success = true if loading is done and successful. \r\n    .err = will remain undefined unless loading has failed. \r\n  'Reload' callBack function allowing to recall loading function. \r\n*/\r\nexport function useLoad(LoadFunc:() => Promise<any>) : {status:ILoad, Reload:any} { \r\n  const [status, setStatus] = useState({success:false} as ILoad); \r\n  const Reload = useCallback( async () => { \r\n    setStatus({success:false}); \r\n    await LoadFunc() \r\n    .then( () => setStatus({success:true})) \r\n    .catch( err => setStatus({success:true, err:err})); \r\n  }, []); \r\n\r\n  useEffect(() => { \r\n    Reload(); \r\n  }, []); \r\n\r\n  return {status, Reload}; \r\n}\r\n","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\customhooks\\useOutsideClick.tsx",["175"],"import {useEffect, useRef} from 'react';\r\n\r\n\r\nexport function useOutsideClick<T extends HTMLElement>(onOutClick:any): [React.MutableRefObject<any>] { \r\n  \r\n  const htmlelement = useRef<T>(null); \r\n  useEffect(() => { \r\n    document.addEventListener(\"mousedown\", outsideClick); \r\n    return () => { \r\n      document.removeEventListener(\"mousedown\", outsideClick); \r\n    }; \r\n  }, []); \r\n\r\n  const outsideClick = (e:{target:any}) => { \r\n    if (!(htmlelement.current && htmlelement.current.contains(e.target))) \r\n      onOutClick(e); \r\n  }; \r\n  return [htmlelement]; \r\n}","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\customhooks\\usePage.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\mongoosedao\\crudaxios.tsx",["176"],"import axios from 'axios'; \r\n\r\n\r\nexport class Crud {\r\n  public baseUrl:string = ''; \r\n\r\n  constructor(baseUrl:string) { \r\n    this.baseUrl = baseUrl; \r\n    const axiosInstance = axios.create({\r\n      baseURL: baseUrl,\r\n      timeout: 2000\r\n    });\r\n  } \r\n\r\n  public async Access() { \r\n    return await axios.get(this.baseUrl); \r\n  } \r\n\r\n  public async Models(modelName:string) { \r\n    return await axios.get(this.baseUrl+'models/'+modelName); \r\n  } \r\n\r\n  public async Validate(modelName:string, toValidate:IEntry|IEntry[]) { \r\n    return await axios.put(this.baseUrl+modelName+'/validate', toValidate); \r\n  } \r\n\r\n  public async Create(modelName:string, toCreate:IEntry|IEntry[]):Promise<IResponse> { \r\n    return await axios.post(this.baseUrl+modelName+'/create', toCreate) as IResponse; \r\n  } \r\n\r\n  public async Read(modelName:string, ids?:Number[]):Promise<IResponse> { \r\n    return await axios.put(this.baseUrl+modelName+'/read', ids? [ids].flat(): []) as IResponse; \r\n  } \r\n\r\n  public async Ids(modelName:string):Promise<IResponse> { \r\n    return await axios.get(this.baseUrl+modelName+'/ids') as IResponse; \r\n  } \r\n\r\n  public async Update(modelName:string, toUpdate:IEntry|IEntry[]):Promise<IResponse> { \r\n    return await axios.put(this.baseUrl+modelName+'/update', toUpdate) as IResponse; \r\n  } \r\n\r\n  public async Delete(modelName:string, toDelete?:IEntry|IEntry[]):Promise<IResponse> { \r\n    const ids = toDelete ? ([toDelete].flat()).map( e => e._id): []; \r\n    return await axios.put(this.baseUrl+modelName+'/delete', ids? [ids].flat(): []) as IResponse; \r\n  } \r\n} \r\n\r\n//const baseUrl = `http://localhost:8080/api/`; \r\nconst baseUrl = `https://fjg-mongoose-heroku.herokuapp.com/api/`; \r\nconst crud = new Crud(baseUrl); \r\n\r\nexport default Crud; \r\nexport { \r\n  crud, \r\n} ","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\mongoosedao\\collection.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\mongoosedao\\field.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputdata\\inputdata.tsx",["177"],"import React from 'react'; \r\nimport { IInput, InputNumber, InputString, InputBool, EnumType } from '../inputcommon'; \r\n\r\n// InputData ====================================\r\nexport default function InputData(props:IInput<any>) { \r\n  // input type check box\r\n  if(typeof props.value === 'boolean') \r\n    return <InputBool {...props} /> \r\n  // input type number \r\n  if(typeof props.value === 'number') \r\n    return <InputNumber {...props} /> \r\n  \r\n  // type Date ???\r\n\r\n  // input type text - used as default input type. \r\n  return <InputString {...props} /> \r\n}","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputdata\\inputstring.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputdata\\inputnumber.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputdata\\inputbool.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputselect\\inputselect.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\input\\inputhooks\\inputhook.tsx",["178","179","180"],"import {useState, useEffect} from 'react'; \r\nimport {IInput, EnumType, InputAction} from '../inputcommon'; \r\n\r\n// IEvent ---------------------------------------\r\nexport interface IEvent { \r\n  target:{ \r\n    type:string, \r\n    value:string, \r\n    valueAsDate: Date | null, \r\n    valueAsNumber: number, \r\n    checked: boolean | null, \r\n  } \r\n  code?:any, \r\n}\r\n\r\n// InputHook -----------------------------------\r\nexport interface IInputHook<T> extends IInput<T> { \r\n  value: T; \r\n  setValue: React.Dispatch<React.SetStateAction<T>>; \r\n  type: EnumType; \r\n  //type?: EnumType; \r\n  //size?: any; \r\n\r\n  // Formatting .........\r\n  formatter?: (value:T) => T; \r\n  \r\n  // Editing ............\r\n  onSendValue: (value:T) => void;   // defined by parent component \r\n  onChange: InputAction;      // called when <input> changes \r\n  onBlur: InputAction;        // called when <input> blurs \r\n  onPressEnter: InputAction;  // called when <input> press enter \r\n} \r\nexport function useInputHook<T>(props:IInput<T>):IInputHook<T> { \r\n  const [value, setValue] = useState<T>(props.value as T); \r\n  // To synchronize with parent changes (page changes). \r\n  useEffect(() => { \r\n    if (props.value != value) { \r\n      setValue(props.value); \r\n  } \r\n  },[JSON.stringify(props.value)]); \r\n  \r\n  // Allows access to child component \r\n  const type = props.type ? props.type: EnumType.ANY; \r\n  const onSendValue = props.onSendValue; \r\n  const args = {value, setValue, type, onSendValue}; \r\n\r\n  const onChange = props.onChange? props.onChange : DefaultOnChange({...args} as IInputHook<T>); \r\n  const onPressEnter = DefaultOnPressEnter({...args, onPressEnter:props.onPressEnter } as IInputHook<T>); \r\n  const onBlur = props.onBlur ? props.onBlur : DefaultOnBlur({...args} as IInputHook<T>); \r\n  const inputHook = {...args, onChange, onBlur, onPressEnter}; \r\n  // gives parent component access to these values and methods\r\n  if(props.useref) \r\n    props.useref.current = {...props, ...inputHook}; \r\n\r\n  //console.log(value); \r\n  return {...inputHook} as IInputHook<T>; \r\n} \r\n\r\n// default onBlur method ...............................\r\nfunction DefaultOnBlur<T>(inputHook:IInputHook<T>):InputAction { \r\n  const {value, onSendValue} = inputHook; \r\n  return (event:any) => onSendValue(value as any as T); \r\n} \r\n\r\n// default onPressEnter .........................\r\nconst IsPressEnter = (event:any):boolean => { \r\n  const {code} = event as IEvent; \r\n  return code === 'Enter' || code === 'NumpadEnter'; \r\n}\r\n\r\nfunction DefaultOnPressEnter<T>(inputHook:IInputHook<T>):InputAction { \r\n  const {value, onSendValue, onPressEnter} = inputHook; \r\n  if(onPressEnter) { \r\n    return (event:any) => { \r\n      if(IsPressEnter(event) && onPressEnter) \r\n        onPressEnter(event); \r\n    } \r\n  } \r\n  else { \r\n    return (event:any) => { \r\n      if(IsPressEnter(event)) \r\n        onSendValue(value as any as T); \r\n    } \r\n  } \r\n} \r\n\r\n\r\n// default ONCHANGE methods .....................\r\nfunction DefaultOnChange<T>(inputHook:IInputHook<T>):InputAction { \r\n  if(inputHook.type === EnumType.NUMBER) \r\n    return DefaultOnChangeNumber(inputHook); \r\n\r\n  else if(inputHook.type === EnumType.BOOLEAN) \r\n    return DefaultOnChangeBool(inputHook); \r\n\r\n  else if(inputHook.type === EnumType.STRING) \r\n    return DefaultOnChangeString(inputHook); \r\n  return (event:any) => console.log(event); \r\n}\r\n\r\nfunction DefaultOnChangeNumber<T>(inputHook:IInputHook<T>):InputAction { \r\n  const {setValue} = inputHook; \r\n  return (event:any) => {\r\n    const {target} = (event as IEvent); \r\n    const newValue = target.valueAsNumber as any as T; \r\n    setValue(newValue); \r\n  }\r\n}\r\n\r\nfunction DefaultOnChangeBool<T>(inputHook:IInputHook<T>):InputAction { \r\n  const {setValue, onSendValue} = inputHook; \r\n  return (event:any) => { \r\n    const {target} = (event as IEvent); \r\n    const newValue = target.checked as any as T; \r\n    setValue(newValue); \r\n    onSendValue(newValue); \r\n  }; \r\n}\r\n\r\nfunction DefaultOnChangeString<T>(inputHook:IInputHook<T>):InputAction { \r\n  const {setValue} = inputHook; \r\n  return (event:any) => { \r\n    const {target} = (event as IEvent); \r\n    const newValue = target.value as any as T; \r\n    setValue(newValue); \r\n  }; \r\n}\r\n\r\n/*function DeepCompare(a:any, b:any):boolean { \r\n  JSON.stringify(a) === JSON.stringify(b); \r\n  return false; \r\n}*/\r\n","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\components\\inputtable.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\components\\inputtableheader.tsx",["181","182","183"],"import React, { useContext } from 'react'; \r\nimport {InputTableContext} from './inputtable'; \r\nimport {IColumnSetting} from '../colsetting/columnsetting'; \r\n\r\n// INPUT HEADER ROW =============================\r\ninterface IInputHeaderRowContext {} \r\nexport const InputHeaderRowContext = React.createContext({} as IInputHeaderRowContext); \r\ninterface IInputHeaderRow { \r\n  children?: React.ReactNode; \r\n} \r\nexport function InputHeaderRow({children}:React.PropsWithChildren<IInputHeaderRow>) { \r\n\r\n  return <InputHeaderRowContext.Provider value={{}}> \r\n      <tr>{children}</tr> \r\n    </InputHeaderRowContext.Provider> \r\n}\r\n\r\n// INPUT CELLS ==================================\r\ninterface IInputHeaderContext {} \r\nexport const InputHeaderContext = React.createContext({} as IInputHeaderRowContext); \r\ninterface IInputHeader { \r\n  columnSetting?:IColumnSetting; \r\n} \r\n\r\nexport function InputHeader() { \r\n  const {tableHook, columnSettings:{GetColumnSettings}} = useContext(InputTableContext); \r\n  const ColumnSettings:IColumnSetting[] = GetColumnSettings(); \r\n\r\n  return <InputHeaderContext.Provider value={{}}> \r\n    {ColumnSettings.map( (column, i) => { \r\n      return <th key={i} >{column.ifield.label}</th> \r\n    })} \r\n  </InputHeaderContext.Provider> \r\n} \r\n","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\components\\inputcells.tsx",["184","185"],"import React, { useContext } from 'react'; \r\nimport {InputTableContext} from './inputtable'; \r\nimport {IColumnSetting} from '../tablecommon'; \r\n//import {I} from './columsetter'; \r\nimport {InputRowContext} from './inputrows'; \r\n\r\n\r\ninterface IInputCellsContext{} \r\nconst InputCellsContext = React.createContext({} as IInputCellsContext); \r\n// INPUT CELLS ==================================\r\ninterface IInputCells { \r\n  //optionalColumnSettings?: I[]; \r\n} \r\nexport function InputCells({}: React.PropsWithChildren<IInputCells>) { \r\n  const {tableHook:{GetActiveHook}, columnSettings:{GetColumnSettings}} = useContext(InputTableContext); \r\n  const {row} = useContext(InputRowContext); \r\n\r\n  // pick the right column setting depending on activeRow and ModeHook \r\n  const columnSettings = GetColumnSettings(GetActiveHook(row)); \r\n\r\n  // RENDER -------------------------------------\r\n  return <InputCellsContext.Provider value={{}}> \r\n      {columnSettings.map( (column, i) => { \r\n      return <InputCell key={i} {...{column}} /> \r\n    })} \r\n    </InputCellsContext.Provider> \r\n} \r\n\r\n\r\n// INPUT CELL ====================================\r\ninterface IInputCell { \r\n  column: IColumnSetting; \r\n} \r\nexport function InputCell({column}: IInputCell) { \r\n  const {tableHook:{entries, SetActiveEntry}} = useContext(InputTableContext); \r\n  const {row} = useContext(InputRowContext); \r\n  const {ifield, renderer} = column; \r\n  \r\n  let value; \r\n  if(row != undefined && row >=0) \r\n    value = entries[row][ifield.accessor];  // or default value as given by colsettings \r\n  value = value ?? ifield.defaultValue; \r\n  \r\n  const onSendValue = (newValue:any) => SetActiveEntry(newValue, ifield); \r\n  // RENDER -------------------------------------\r\n  return <td> \r\n    {renderer(value, onSendValue)} \r\n  </td> \r\n} ","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\components\\inputrows.tsx",["186"],"import React, { useContext } from 'react'; \r\nimport {InputTableContext} from './inputtable'; \r\n\r\ninterface IInputRowsContext{} \r\nconst InputRowsContext = React.createContext({} as IInputRowsContext); \r\n// INPUT ROWS ==================================\r\ninterface IInputRows { \r\n  rows?: number[]; \r\n} \r\nexport function InputRows({rows, children}: React.PropsWithChildren<IInputRows>) { \r\n  const {tableHook:{entries}} = useContext(InputTableContext); \r\n  const Rows = (entries === undefined) ? [] : \r\n    (rows != undefined) ? rows: entries.map( (v,i) => i); \r\n\r\n  return <InputRowsContext.Provider value={{}}> \r\n    {Rows.map( (row, i) => { \r\n      return <InputRow key={i} {...{row, children}} /> \r\n    })} \r\n  </InputRowsContext.Provider> \r\n} \r\n\r\n\r\ninterface IInputRowContext { \r\n  row?: number|undefined; \r\n} \r\nexport const InputRowContext = React.createContext({} as IInputRowContext); \r\n// INPUT ROW ==================================\r\ninterface IInputRow { \r\n  row?: number; \r\n  children?: React.ReactNode; \r\n} \r\nexport function InputRow({row, children}:IInputRow) { \r\n  //const {tableHook:{entries}} = useContext(InputTableContext); \r\n\r\n  const context = {row} as IInputRowContext; \r\n  return <InputRowContext.Provider value={context}> \r\n      <tr> \r\n        {children} \r\n      </tr> \r\n    </InputRowContext.Provider> \r\n}\r\n\r\n\r\n\r\n","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\components\\inputrowbtn.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\colsetting\\columnsetting.tsx",[],"D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\hook\\useCrud.tsx",["187","188"],"import {useEffect, useState} from 'react'; \r\n\r\n// IDao =========================================\r\nexport interface IDao { \r\n  Create: (accessor:string, entry:IEntry) => Promise<IResponse>; \r\n  Update: (accessor:string, entry:IEntry) => Promise<IResponse>; \r\n  Delete: (accessor:string, entry:IEntry) => Promise<IResponse>; \r\n  GetForeignOptions: (ifield:IField) => IOption[]; \r\n  GetForeignValue: (ifield:IField, id:string) => any|undefined; \r\n  GetICollection: (accessor:string) => ICollection|void; \r\n} \r\n\r\n// ICRUDHOOK ------------------------------------\r\nexport interface ICrudHook { \r\n  entries: IEntry[]; \r\n  response: IResponse; \r\n  Create: (entry:any) => Promise<boolean>; \r\n  Update: (entry:any) => Promise<boolean>; \r\n  Delete: (entry:any) => Promise<boolean>; \r\n}\r\n// useCrud ======================================\r\nexport function useCrud(dao:IDao, icollection:ICollection) { \r\n  const [entries, setEntries] = useState(icollection.entries); \r\n  const [response, setResponse] = useState({} as IResponse); \r\n\r\n  useEffect(() => { \r\n    setEntries(icollection.entries); \r\n  },[JSON.stringify(icollection.accessor)]) \r\n\r\n  // Build Crud methods \r\n  const Create = async (entry:IEntry):Promise<boolean> => { \r\n    const response = await dao.Create(icollection.accessor, entry); \r\n    if(response.success) \r\n      setEntries(icollection.entries); // ?? will it update entries hook propertly ?? \r\n    setResponse(response); \r\n    return response.success; \r\n  } \r\n\r\n  const Update = async (entry:IEntry):Promise<boolean> => { \r\n    const response = await dao.Update(icollection.accessor, entry); \r\n    if(response.success) \r\n      setEntries(icollection.entries); // ?? will it update entries hook propertly ?? \r\n    setResponse(response); \r\n    return response.success; \r\n  }\r\n\r\n  const Delete = async (entry:IEntry):Promise<boolean> => { \r\n    const response = await dao.Delete(icollection.accessor, entry); \r\n    if(response.success) \r\n      setEntries(icollection.entries); // ?? will it update entries hook propertly ?? \r\n    setResponse(response); \r\n    return response.success; \r\n  }\r\n\r\n  return {entries, response, Create, Update, Delete} as ICrudHook; \r\n} \r\n\r\n","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\hook\\useColumnSetting.tsx",["189","190","191","192"],"import {useState, useEffect} from 'react'; \r\nimport {IColumnSetting} from '../colsetting/columnsetting'; \r\n\r\n\r\nexport function ColumnSetter(cols:IColumnSetting[], setter:(col:IColumnSetting)=>void) { \r\n  cols.map( c => setter(c) ); \r\n} \r\n\r\n// useColumnSetting ===========================\r\nexport function useColumnSetting(defaultColumnSetting:IColumnSetting[]) { \r\n  const [columnSettings, setColumnSettings] = useState(defaultColumnSetting); \r\n\r\n  useEffect(() => { \r\n    setColumnSettings(defaultColumnSetting); \r\n  },[JSON.stringify(defaultColumnSetting)]); \r\n\r\n  // Get Column Settings ------------------------\r\n  function GetColumnSettings(handle?:string):IColumnSetting[] { \r\n    const ifields = GetFields(); \r\n    return ifields.map( f => { \r\n      return GetIColumnSetting(f, handle); \r\n    }); \r\n  } \r\n\r\n  function GetIColumnSetting(ifield:IField, handle?:string):IColumnSetting { \r\n    const defaultCol = columnSettings.find( c => c.ifield.accessor === ifield.accessor && !c.predicate); \r\n    const activeCol = columnSettings.find( c => c.ifield.accessor === ifield.accessor && c.predicate && c.predicate(handle)); \r\n    return activeCol ?? defaultCol ?? {} as IColumnSetting; \r\n  } \r\n\r\n  function GetFields():IField[] { \r\n    const ifields:IField[] = []; \r\n    columnSettings.forEach( c => { \r\n      if(c.show && ifields.every(f => f.accessor != c.ifield.accessor)) \r\n        ifields.push(c.ifield); \r\n    }); \r\n    return ifields; \r\n  } \r\n\r\n  // FilterColumnSetting\r\n  function FilterColumns(columns:string[]) { \r\n    const filtered:(IColumnSetting|undefined)[] = columns.map( (c,i) => { \r\n      const found = defaultColumnSetting.find( cs => cs.ifield.accessor === c); \r\n      if(found) \r\n        found.order = i; \r\n      return found; \r\n    }); \r\n    if(filtered === undefined || filtered.length ===0) \r\n      return; \r\n    setColumnSettings(filtered as IColumnSetting[]); \r\n  } \r\n\r\n  function SortBy() {} \r\n\r\n  return {GetColumnSettings, FilterColumns}; \r\n}\r\n","D:\\01-Projects\\02-FullStacks\\01-React-Mongoose\\react-mongoose-demo\\src\\inputtable\\hook\\usetable.tsx",["193","194","195","196"],"import { useEffect, useState } from 'react'; \r\n//import { IFieldSetting, CrudFunc } from \"./columsetting/columsetter\"; \r\n\r\n\r\nexport interface ITableStatus { \r\n  entries: IEntry[]; \r\n  activeEntry:IEntry; \r\n  activeRow:number; \r\n  activeMode:string; \r\n}\r\nexport interface ITableHook extends ITableStatus{ \r\n  setActiveEntry:any; \r\n  setActiveRow: any; \r\n  setActiveMode:any; \r\n  CrudAction: (crudFunc:CrudFunc) => Promise<void>; \r\n  SetActiveEntry: (newValue:any, ifield:IField) => void; \r\n  GetActiveHook: (row?:number) => string; \r\n  ActivateHook: (mode?:string, row?:number) => void; \r\n  ResetActiveHooks: () => void; \r\n} \r\n\r\n/// useInputTable\r\nexport function useInputTable(entries:IEntry[]):ITableHook { \r\n  const [activeEntry, setActiveEntry] = useState<IEntry>({} as IEntry); \r\n  const [activeRow, setActiveRow] = useState(-1); \r\n  const [activeMode, setActiveMode] = useState('read'); \r\n\r\n  useEffect(() => { \r\n    if(activeMode != 'read' || activeRow != -1) \r\n    ResetActiveHooks(); \r\n  },[entries]); \r\n\r\n  const CrudAction = async (crudFunc:CrudFunc) => { \r\n    if(await crudFunc(activeEntry)) \r\n      ResetActiveHooks(); \r\n  } \r\n\r\n  const SetActiveEntry = (newValue:any, ifield:IField) => { \r\n    const newEntries = {...activeEntry}; \r\n    newEntries[ifield.accessor as any] = newValue; \r\n    setActiveEntry(newEntries); \r\n  } \r\n\r\n  const GetActiveHook = (row?:number) => { \r\n    if(row != undefined && activeRow === row) \r\n      return activeMode; \r\n    return ''; \r\n  }\r\n\r\n  const ActivateHook = (mode:string = 'read', row:number =-1) => { \r\n    const entry = entries[row] ?? {}; \r\n    setActiveMode(mode); \r\n    setActiveRow(row); \r\n    setActiveEntry(entry); \r\n  } \r\n\r\n  const ResetActiveHooks = () => { \r\n    setActiveEntry({} as IEntry); \r\n    setActiveRow(-1); \r\n    setActiveMode('read'); \r\n  } \r\n\r\n  const tableHook = {entries, activeEntry, setActiveEntry, activeRow, setActiveRow, activeMode, setActiveMode, \r\n    SetActiveEntry, CrudAction, GetActiveHook, ActivateHook, ResetActiveHooks} as ITableHook; \r\n\r\n\r\n  return {...tableHook}; \r\n} ",{"ruleId":"197","replacedBy":"198"},{"ruleId":"199","replacedBy":"200"},{"ruleId":"201","severity":1,"message":"202","line":17,"column":18,"nodeType":"203","messageId":"204","endLine":17,"endColumn":24},{"ruleId":"197","replacedBy":"198"},{"ruleId":"199","replacedBy":"200"},{"ruleId":"201","severity":1,"message":"205","line":8,"column":36,"nodeType":"203","messageId":"204","endLine":8,"endColumn":45},{"ruleId":"201","severity":1,"message":"206","line":76,"column":10,"nodeType":"203","messageId":"204","endLine":76,"endColumn":13},{"ruleId":"201","severity":1,"message":"207","line":8,"column":40,"nodeType":"203","messageId":"204","endLine":8,"endColumn":49},{"ruleId":"201","severity":1,"message":"208","line":2,"column":35,"nodeType":"203","messageId":"204","endLine":2,"endColumn":45},{"ruleId":"209","severity":1,"message":"210","line":81,"column":39,"nodeType":"211","messageId":"212","endLine":81,"endColumn":49},{"ruleId":"213","severity":1,"message":"214","line":28,"column":6,"nodeType":"215","endLine":28,"endColumn":8,"suggestions":"216"},{"ruleId":"201","severity":1,"message":"217","line":1,"column":19,"nodeType":"203","messageId":"204","endLine":1,"endColumn":26},{"ruleId":"213","severity":1,"message":"218","line":24,"column":6,"nodeType":"215","endLine":24,"endColumn":8,"suggestions":"219"},{"ruleId":"213","severity":1,"message":"220","line":28,"column":6,"nodeType":"215","endLine":28,"endColumn":8,"suggestions":"221"},{"ruleId":"213","severity":1,"message":"222","line":12,"column":6,"nodeType":"215","endLine":12,"endColumn":8,"suggestions":"223"},{"ruleId":"201","severity":1,"message":"224","line":9,"column":11,"nodeType":"203","messageId":"204","endLine":9,"endColumn":24},{"ruleId":"201","severity":1,"message":"225","line":2,"column":55,"nodeType":"203","messageId":"204","endLine":2,"endColumn":63},{"ruleId":"226","severity":1,"message":"227","line":37,"column":21,"nodeType":"228","messageId":"229","endLine":37,"endColumn":23},{"ruleId":"213","severity":1,"message":"230","line":40,"column":5,"nodeType":"215","endLine":40,"endColumn":34,"suggestions":"231"},{"ruleId":"213","severity":1,"message":"232","line":40,"column":6,"nodeType":"233","endLine":40,"endColumn":33},{"ruleId":"201","severity":1,"message":"234","line":19,"column":11,"nodeType":"203","messageId":"204","endLine":19,"endColumn":30},{"ruleId":"201","severity":1,"message":"235","line":21,"column":11,"nodeType":"203","messageId":"204","endLine":21,"endColumn":23},{"ruleId":"201","severity":1,"message":"236","line":26,"column":10,"nodeType":"203","messageId":"204","endLine":26,"endColumn":19},{"ruleId":"237","severity":1,"message":"238","line":14,"column":28,"nodeType":"239","messageId":"229","endLine":14,"endColumn":68},{"ruleId":"226","severity":1,"message":"227","line":40,"column":10,"nodeType":"228","messageId":"229","endLine":40,"endColumn":12},{"ruleId":"226","severity":1,"message":"227","line":13,"column":11,"nodeType":"228","messageId":"229","endLine":13,"endColumn":13},{"ruleId":"213","severity":1,"message":"240","line":28,"column":5,"nodeType":"215","endLine":28,"endColumn":43,"suggestions":"241"},{"ruleId":"213","severity":1,"message":"232","line":28,"column":6,"nodeType":"233","endLine":28,"endColumn":42},{"ruleId":"213","severity":1,"message":"242","line":15,"column":5,"nodeType":"215","endLine":15,"endColumn":43,"suggestions":"243"},{"ruleId":"213","severity":1,"message":"232","line":15,"column":6,"nodeType":"233","endLine":15,"endColumn":42},{"ruleId":"226","severity":1,"message":"227","line":34,"column":50,"nodeType":"228","messageId":"229","endLine":34,"endColumn":52},{"ruleId":"201","severity":1,"message":"244","line":53,"column":12,"nodeType":"203","messageId":"204","endLine":53,"endColumn":18},{"ruleId":"226","severity":1,"message":"227","line":29,"column":19,"nodeType":"228","messageId":"229","endLine":29,"endColumn":21},{"ruleId":"226","severity":1,"message":"227","line":29,"column":42,"nodeType":"228","messageId":"229","endLine":29,"endColumn":44},{"ruleId":"213","severity":1,"message":"245","line":31,"column":5,"nodeType":"215","endLine":31,"endColumn":14,"suggestions":"246"},{"ruleId":"226","severity":1,"message":"227","line":45,"column":12,"nodeType":"228","messageId":"229","endLine":45,"endColumn":14},"no-native-reassign",["247"],"no-negated-in-lhs",["248"],"@typescript-eslint/no-unused-vars","'Reload' is assigned a value but never used.","Identifier","unusedVar","'InputCell' is defined but never used.","'dao' is assigned a value but never used.","'ICrudHook' is defined but never used.","'ITableHook' is defined but never used.","no-template-curly-in-string","Unexpected template string expression.","Literal","unexpectedTemplateExpression","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'OnKey' and 'keyEvent'. Either include them or remove the dependency array.","ArrayExpression",["249"],"'useMemo' is defined but never used.","React Hook useCallback has a missing dependency: 'LoadFunc'. Either include it or remove the dependency array. If 'LoadFunc' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["250"],"React Hook useEffect has a missing dependency: 'Reload'. Either include it or remove the dependency array.",["251"],"React Hook useEffect has a missing dependency: 'outsideClick'. Either include it or remove the dependency array.",["252"],"'axiosInstance' is assigned a value but never used.","'EnumType' is defined but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","React Hook useEffect has missing dependencies: 'props.value' and 'value'. Either include them or remove the dependency array. If 'setValue' needs the current value of 'props.value', you can also switch to useReducer instead of useState and read 'props.value' in the reducer.",["253"],"React Hook useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","CallExpression","'IInputHeaderContext' is defined but never used.","'IInputHeader' is defined but never used.","'tableHook' is assigned a value but never used.","no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","React Hook useEffect has a missing dependency: 'icollection.entries'. Either include it or remove the dependency array. If 'setEntries' needs the current value of 'icollection.entries', you can also switch to useReducer instead of useState and read 'icollection.entries' in the reducer.",["254"],"React Hook useEffect has a missing dependency: 'defaultColumnSetting'. Either include it or remove the dependency array. If 'setColumnSettings' needs the current value of 'defaultColumnSetting', you can also switch to useReducer instead of useState and read 'defaultColumnSetting' in the reducer.",["255"],"'SortBy' is defined but never used.","React Hook useEffect has missing dependencies: 'activeMode' and 'activeRow'. Either include them or remove the dependency array.",["256"],"no-global-assign","no-unsafe-negation",{"desc":"257","fix":"258"},{"desc":"259","fix":"260"},{"desc":"261","fix":"262"},{"desc":"263","fix":"264"},{"desc":"265","fix":"266"},{"desc":"267","fix":"268"},{"desc":"269","fix":"270"},{"desc":"271","fix":"272"},"Update the dependencies array to be: [OnKey, keyEvent]",{"range":"273","text":"274"},"Update the dependencies array to be: [LoadFunc]",{"range":"275","text":"276"},"Update the dependencies array to be: [Reload]",{"range":"277","text":"278"},"Update the dependencies array to be: [outsideClick]",{"range":"279","text":"280"},"Update the dependencies array to be: [props.value, value]",{"range":"281","text":"282"},"Update the dependencies array to be: [icollection.entries]",{"range":"283","text":"284"},"Update the dependencies array to be: [defaultColumnSetting]",{"range":"285","text":"286"},"Update the dependencies array to be: [activeMode, activeRow, entries]",{"range":"287","text":"288"},[698,700],"[OnKey, keyEvent]",[802,804],"[LoadFunc]",[854,856],"[Reload]",[379,381],"[outsideClick]",[1232,1261],"[props.value, value]",[1086,1124],"[icollection.entries]",[520,558],"[defaultColumnSetting]",[998,1007],"[activeMode, activeRow, entries]"]